{
  "version": "1.0.3",
  "updated_at": "2025-12-08T12:25:00Z",
  "tested": true,
  "description": "Fixed false sign-in detection, prioritize visible inputs with :not([aria-hidden])",
  "platforms": {
    "kimi": {
      "url": "https://kimi.ai/chat",
      "selectors": {
        "input": [
          "textarea:not([aria-hidden='true'])",
          "div[contenteditable='true']:not([aria-hidden='true'])",
          "[role='textbox']:not([aria-hidden='true'])",
          "textarea",
          "input[type='text']",
          "div[contenteditable='true']"
        ],
        "send": [
          "button[type='submit']:not([disabled])",
          "button[aria-label*='send' i]:not([disabled])",
          "button[aria-label*='发送']:not([disabled])",
          "button:has(svg):not([disabled])"
        ]
      },
      "signin_detect": [
        "a[href*='/login']",
        "button[class*='Login']"
      ],
      "limit_detect": [
        "div[role='alert']",
        "div[class*='error']",
        "div[class*='limit']"
      ]
    },
    "chatgpt": {
      "url": "https://chat.openai.com/",
      "tested_date": "2025-12-08",
      "notes": "ChatGPT A/B tests #prompt-textarea vs data-id. Both included.",
      "selectors": {
        "input": [
          "#prompt-textarea",
          "textarea[data-id='root']",
          "textarea[placeholder*='Message']",
          "textarea[id^='prompt-textarea']",
          "div[contenteditable='true'][data-id='root']",
          "textarea.m-0",
          "div[contenteditable='true'][role='textbox']"
        ],
        "send": [
          "button[data-testid='send-button']",
          "button[data-testid='fruitjuice-send-button']",
          "button[aria-label='Send message']",
          "button:has(svg[data-icon='arrow-up'])",
          "button:has(path[d*='M.5 1.163A1'])",
          "button[class*='bottom-'][class*='right-']"
        ]
      },
      "signin_detect": [
        "a[href*='/auth/login']",
        "button[class*='login' i]"
      ],
      "limit_detect": [
        "div[role='alert']",
        "div[class*='error' i]",
        "div[class*='limit' i]"
      ]
    },
    "gemini": {
      "url": "https://gemini.google.com/app",
      "selectors": {
        "input": [
          "rich-textarea",
          "div[contenteditable='true']",
          "textarea[aria-label*='prompt']",
          "div.ql-editor"
        ],
        "send": [
          "button[aria-label*='Send']",
          "button[mattooltip*='Send']",
          "button:has(mat-icon:contains('send'))",
          "button.send-button"
        ]
      },
      "signin_detect": [
        "button:has-text('Sign in')",
        "a[href*='/signin']"
      ],
      "limit_detect": [
        "div[role='alert']",
        "div[class*='error' i]"
      ]
    },
    "claude": {
      "url": "https://claude.ai/",
      "selectors": {
        "input": [
          "div.ProseMirror",
          "div[contenteditable='true']:not([aria-hidden='true'])",
          "textarea:not([aria-hidden='true'])",
          "[role='textbox']:not([aria-hidden='true'])",
          "fieldset textarea",
          "fieldset div[contenteditable='true']"
        ],
        "send": [
          "button[aria-label*='Send' i]:not([disabled])",
          "button[type='submit']:not([disabled])",
          "button:has(svg):not([disabled])"
        ]
      },
      "signin_detect": [
        "a[href*='login']",
        "button[class*='login' i]"
      ],
      "limit_detect": [
        "div[role='alert']",
        "div[class*='error' i]"
      ]
    },
    "perplexity": {
      "url": "https://www.perplexity.ai/",
      "selectors": {
        "input": [
          "textarea[placeholder*='Ask']",
          "textarea.search-input",
          "div[contenteditable='true']"
        ],
        "send": [
          "button[aria-label='Submit']",
          "button[type='submit']",
          "button:has(svg[class*='arrow'])"
        ]
      },
      "signin_detect": [
        "a[href*='login']",
        "button[class*='login' i]"
      ],
      "limit_detect": [
        "div[role='alert']",
        "div[class*='error' i]"
      ]
    }
  },
  "notes": {
    "update_frequency": "Check weekly or when platforms update their UI",
    "fallback_strategy": "Extension tries each selector in order with 100ms delays",
    "community_contributions": "Submit PRs with updated selectors to help all users"
  }
}
