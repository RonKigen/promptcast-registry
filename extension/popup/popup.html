<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PromptCast</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <img src="../icons/icon48.png" alt="PromptCast" width="24" height="24">
        <h1>PromptCast</h1>
      </div>
      <div class="status-indicator" id="status-indicator" title="Selector registry status">
        <span class="dot"></span>
      </div>
    </header>

    <!-- Main Prompt Input -->
    <section class="prompt-section">
      <label for="prompt-input" class="section-label">Write your prompt</label>
      <textarea 
        id="prompt-input" 
        class="prompt-input" 
        placeholder="Ask anything... Your prompt will be sent to selected AI platforms simultaneously."
        rows="4"
      ></textarea>
      <div class="prompt-actions">
        <button id="clear-btn" class="btn-secondary btn-small">Clear</button>
        <span id="char-count" class="char-count">0 characters</span>
      </div>
    </section>

    <!-- Platform Selection -->
    <section class="platform-section">
      <label class="section-label">Send to:</label>
      <div class="platform-grid" id="platform-grid">
        <!-- Dynamically populated -->
      </div>
    </section>

    <!-- Action Buttons -->
    <section class="action-section">
      <button id="launch-tabs-btn" class="btn-secondary">
        <span class="icon">ðŸš€</span>
        Launch Tabs
      </button>
      <button id="launch-inject-btn" class="btn-primary">
        <span class="icon">âš¡</span>
        Launch + Inject Prompt
      </button>
    </section>

    <!-- Status Feedback -->
    <section class="status-section" id="status-section" style="display: none;">
      <label class="section-label">Status:</label>
      <div id="status-list" class="status-list">
        <!-- Dynamically populated -->
      </div>
    </section>

    <!-- Response Inbox (Unified Dashboard) -->
    <section class="inbox-section" id="inbox-section" style="display: none;">
      <div class="section-header">
        <label class="section-label">Response Inbox</label>
        <button id="toggle-inbox-btn" class="btn-link">Hide</button>
      </div>
      <div id="inbox-list" class="inbox-list">
        <!-- Dynamically populated -->
      </div>
    </section>

    <!-- Recent Prompts -->
    <section class="history-section">
      <div class="section-header">
        <label class="section-label">Recent Prompts</label>
        <button id="clear-history-btn" class="btn-link">Clear All</button>
      </div>
      <div id="history-list" class="history-list">
        <div class="empty-state">No recent prompts</div>
      </div>
    </section>

    <!-- Privacy Dashboard -->
    <section class="privacy-section">
      <div class="section-header">
        <label class="section-label">Privacy Audit</label>
        <button id="toggle-privacy-btn" class="btn-link">Show</button>
      </div>
      <div id="privacy-details" class="privacy-details" style="display: none;">
        <div class="privacy-item">
          <span class="privacy-label">Local prompts stored:</span>
          <span id="prompt-count">0</span>
        </div>
        <div class="privacy-item">
          <span class="privacy-label">Local responses stored:</span>
          <span id="response-count">0</span>
        </div>
        <div class="privacy-item">
          <span class="privacy-label">Data sent to servers:</span>
          <span class="privacy-value">None</span>
        </div>
        <div class="privacy-item">
          <span class="privacy-label">Last selector update:</span>
          <span id="last-update">Never</span>
        </div>
        <button id="flush-all-btn" class="btn-danger btn-small">Flush All Data</button>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <a href="https://github.com/YOUR_USERNAME/promptcast" target="_blank" class="footer-link">
        <span class="icon">ðŸ“–</span>
        Documentation
      </a>
      <a href="https://github.com/YOUR_USERNAME/promptcast/blob/main/PRIVACY.md" target="_blank" class="footer-link">
        <span class="icon">ðŸ”’</span>
        Privacy Policy
      </a>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
